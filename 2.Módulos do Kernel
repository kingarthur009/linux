-> MÓDULOS DO KERNEL ! 

1.INTRODUÇÃO 

O kernel é uns dos componentes principais do sistema operacional, principalmente o Linux ! 
Ele é a ponte de comunicação entre o hardware e o processos executados na sua máquina ! (estabelece a comunicação)

O KERNEL tem 4 funções:
- 1.Gerenciamento da memória -> 
- 2.Gerenciamento de processos -> processos e cpu
- 3.Drivers de dispositivos -> estabelece comunicação entre o hardware e software
- 4.Chamadas do sistema e segurança -> 
 
 O Kernel trabalha no mundo dele, chamado 'espaço do kernel', onde aloca a memória e monitora onde todas as coisas são armazenadas.  
 O 'espaço do usuário', o usuário vê navegadores , arquivos,...
 
 Pense da seguinte forma: o kernel é como um assistente pessoal muito ocupado que trabalha para um executivo poderoso (o hardware). É trabalho do assistente 
 transmitir as mensagens e solicitações (processos) dos funcionários e do público (usuários) para o executivo, lembrar o que está armazenado e onde (memória), e 
 determinar quem tem acesso ao executivo, em que horário e por quanto tempo.
 
 (HARDWARE -> <- KERNEL -> <-PROCESSOS)
 
 HARDWARE -> memória ram, cpu, componentes de rede, drivers de armazenamentos, drivers de entrada e saída,..
 PROCESSOS -> programas executados pelo o usuário que quem gerencia é o kernel l
 KERNEL -> software que reside na memória e instrui o que a CPU deve fazer 
 
 Processo de execução do kernel -> 
 1.Modo do kernel -> o código tem acesso total ão hardware é a memória de referencia.
 2.Modo usuário -> o acesso fica restrito a CPU e a memória SCI.
 
 Kernel monolítico, ou seja, um bloco único onde estão compilados todos os serviços disponibilizados pelo sistema. 
 
 
 
 O shell é um interpretador de comandos que atua como interface entre o kernel e o usuário através do terminal. 
 
 2. DIRETÓRIO /BOOT/
 
 O kernel fica armazenado em -> /boot/vmlinu*
 
 A última letra 'z' indica que o kernel está compactado ! 
 
 3 Arquivos importantes:
 config-* -> diz para o kernel quais módulos e opcões carregar
 initrd.img-* -> disco ram(virtual) que extrai e executa o arquivo real do kernel 
 System.map-* ->  usado para gerenciamento de memória, antes do carregamento do kernel.
 
 Módulos -> O Kernel usa os módulos para ativar os drivers necessários para se comunicar com o hardware ! 
 
 Entende-se por módulos as funções, os processos, os drivers, etc, ou seja, tudo aquilo que não faz parte do código do kernel. 
 
 Os módulos serão carregados somente quando forem necessárias ! 
  
 O linux não carrega todos os drivers na memória durante a inicialização, o usuário pode carregar em outro momento ! 
 
 Uma versão de kernel não pode utilizar os módulos de outra versão, ou vice versa, portanto, devem existir em /lib/modules e /boot tantos diretórios de módulos, 
 quantas forem as versões de kernel que forem compiladas. 
 
 4. COMANDOS 
 
 lsmod ou cat/proc/modules -> lista todos os módulos 
 
 modprobe (mod) -> carrega o módulo eas depedências caso existir! 
 insmod (mod) 
 
 modprobe -r (mod) -> remove os módulos e as depedências !
 rmmod (mod)
 
 modinfo (mod) -> mostra as informações sobre o módulo !
 
 Os módulos ficam armazenados em -> /lib/modules/
 /lib/modules/5.4.0-96-generic/kernel/drivers -> onde ficam propriamente dito os drivers ! 
 
 depmod -a -> atualizar o arquivo  modules.dep
 
 modinfo 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 



